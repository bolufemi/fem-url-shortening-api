const f=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function l(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerpolicy&&(o.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?o.credentials="include":e.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(e){if(e.ep)return;e.ep=!0;const o=l(e);fetch(e.href,o)}};f();const r=document.querySelector(" form input"),a=document.querySelector("#myForm"),i=document.querySelector(".url__list"),y=()=>{const t=document.querySelector(".error__msg");a.addEventListener("submit",()=>{r.value===""?(t.style.display="block",r.style.border="5px solid var(--red)"):(t.style.display="none",r.style.border="none")})};y();function u(){let t=i.innerHTML;localStorage.setItem("genLink",JSON.stringify(t))}const d=()=>{const t=document.querySelectorAll(".copybtn"),n=document.querySelector(".shrtcode__link").textContent;t.forEach(l=>{l.addEventListener("click",s=>{navigator.clipboard.writeText(n).then(()=>{s.target.textContent="Copied!",s.target.style.backgroundColor="var(--vd-blue)";let e=s.target.parentElement.parentElement;setTimeout(()=>{e.remove(),u()},2e3)})})})},p=async()=>{const n=await(await fetch(`https://api.shrtco.de/v2/shorten?url=${r.value}`)).json();let l=`<li>
    <div class='url__link'>${n.result.original_link}</div> 
    <div class='shrtcode'>
    <div class='shrtcode__link'>${n.result.full_short_link}</div>
    <button class= 'copybtn'>Copy</button>
    </div>
    </li>`;i.insertAdjacentHTML("beforeend",l),u(),d()},m=()=>{a.addEventListener("submit",function(t){t.preventDefault(),r.value.length>0?(p(),i.style.display="block",r.focus(),r.value=""):t.preventDefault()})};m();window.addEventListener("load",()=>{i.style.display="block";let t=JSON.parse(localStorage.getItem("genLink"));i.innerHTML=t,d()});
